<div style="min-width: 300px; flex-shrink: 0;" class="card me-3">
    <div class="card-body" style="height:500px;">
        <strong>{{ post.user.username }}</strong><br>
        <small>{{ post.timestamp.strftime('%d %b %Y') }}</small>
        <hr>

        {% if post.image_filename %}
            <img src="{{ url_for('static', filename='uploads/' ~ post.image_filename) }}"
                 alt="Post Image" class="img-fluid mb-2" style="height:50%;">
        {% elif post.file_filename %}
            <a href="{{ url_for('static', filename='uploads/' ~ post.file_filename) }}" download>Download File</a>
        {% endif %}

        <p><strong>{{ post.title }}</strong></p>

        <div class="d-flex justify-content-between align-items-center">
            <button class="btn btn-sm btn-outline-primary">Like</button>

            {% if current_user.is_authenticated and current_user.id == post.user_id %}
    <div class="dropdown">
        <button class="btn btn-sm btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
            •••
        </button>
        <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="{{ url_for('main.edit_post', post_id=post.id) }}">Edit</a></li>
            <li>
                <form action="{{ url_for('main.delete_post', post_id=post.id) }}" method="POST" onsubmit="return confirm('Are you sure you want to delete this post?');">
                    <button class="dropdown-item text-danger" type="submit">Delete</button>
                </form>
            </li>
        </ul>
    </div>
{% endif %}

        </div>
    </div>
</div>
